<!--
 * @Author: Li Zhiliang
 * @Date: 2020-11-24 13:50:36
 * @LastEditors: Li Zhiliang
 * @LastEditTime: 2020-11-24 14:05:35
 * @FilePath: /FE-Interview.git/project/index.md
-->
# 面试中关于项目的问题

## 1、项目难点【描述】

## 2、如何设计权限系统，如何维护和定义、表的数据结构是怎样的【举例】【描述】

我们的项目是rbac1类型的权限系统。展示是树形结构，但权限是扁平化的，只需要勾选权限，可以达到灵活修改权限

## 3、class组件和function组件对比

各自特点对比罗列一下。我也不知道有什么很好的，问题都放在这里，说明对方倾向于class组件的，所以一定不能说太多class组件不好，吹捧hook

## 5、hook缺点，hook代码难维护怎么解决【描述】

这种开放性和经验积累的题目真的是最难的，平时大家知道标准答案的题目和这种对比起来，没得比的。这个需要团队的积累，我们这边暂时没什么很大问题，所以感受不到。最基本的，eslint一定要开启，不然会莫名其妙的dep导致更新。其次是根据情况来说一下，function的场景。经验之谈，这里可以讲一篇文章。

## 6、redux为什么每次reducer要返回一个新对象，面对大量节点如何优化【描述】

新的props导致更新。大量节点使用immutable

## 7、immuatable和shouldupdate配合、immuatable数据一些对比问题【描述】

这是黄金搭配的方案了，用过的人应该能理解到。几个看代码判断 === 是否是true的问答题，原则：只要一个节点变了，那么从他开始回溯的父节点全都是变的

## 8、http缓存、离线包原理、移动端首屏幕加载速度优化、webview冷启动、预热【描述】

## 9、一个很牛逼很多功能的class组件，里面有业务生命周期（获取数据前后、弹出窗口前后...），怎么在函数组件里面直接复用它【举例】

先注入到函数组件的props，再到useeffect关键节点里面执行业务生命周期

给定一个整数数组 a，其中1 ≤ a[i] ≤ n （n为数组长度）, 其中有些元素出现两次而其他元素出现一次。【编程】

## 10、找到所有出现两次的元素。你可以不用到任何额外空间并在O(n)时间复杂度内解决这个问题吗？(限时5分钟)

输入:
[4,3,2,7,8,2,3,1]
输出:
[2,3]

这种题，其实看见不用空间、o(n)时间，通常潜台词就是，用原地哈希来做。做过这题的肯定是秒杀，没做过的慌得一逼，我当时就是没做过的。遍历的时候把数字放到index下（比如数字4放在数组的第4个位置），如果发现后面的数的n,arr[n]已经满足了arr[n] === n那就结果算一个。lc标准答案：和我交换位置不一样，lc的是让那个数变成负数，如果后面发现arr[n]是负数那就算一个，比我的交换index简单很多

## 1、cdn原理【描述】

## 2、为什么多域名部署【描述】

http1和浏览器的问题，同一时间6个连接

## 3、单元测试、e2e测试【描述】

## 4、event loop【描述】

## 5、项目介绍一下【描述】

## 6、客户端mock怎么支持【描述】【举例】

客户端 => 协议转换服务 => 中转服务 => mock服务（接入mockjs）

## 7、怎么mock真数据，我需要真的id怎么办，除了写死【描述】

反向抓包，无需自己填充数据。或者全链路监控里面捞出一个id

## 8、什么情况用ts、什么时候不用【描述】

公共组件、库一定要，不重要的业务代码、节奏快的业务代码不用

## 9、单元测试和ts结合【描述】【举例】

有ts的话，输入参数很容易可以知道有没有问题

## 10、全球远程调度机器实现自动化测试【描述】

请求 => 分发 => 海外机器 => 调起当地机器 => 自动化脚本(如puppeteer) => 跑ui流程 => 上报结果 => 系统展示

## 11、cjs实现esm【伪代码】

参考webpack把esmodule的import转成wepack_require的样子

## 项目难点以及怎么解决的

## 项目有哪些亮点？

## 做移动端开发时，你是如何调试的？

使用最多的就是charles和chrome://inspect/#devices进行调试，当然实际开发中还是使用chrome的开发这工具，真机的时候是使用charles代理或者chrome://inspect/#devices代理，ios的话使用的是safari真机调试，当然也使用过vconsole，weinre等进行调试

## Hybrid如何通信的?

1. API注入，原理其实就是 Native 获取 JavaScript环境上下文，并直接在上面挂载对象或者方法，使 js 可以直接调用，Android 与 IOS 分别拥有对应的挂载方式

2. WebView 中的 prompt/console/alert 拦截，通常使用 prompt，因为这个方法在前端中使用频率低，比较不会出现冲突

3. WebView URL Scheme 跳转拦截

## 知道npm ci么，和npm install的区别是啥

npm install读取package.json以创建依赖关系列表，并使用package-lock.json告知要安装这些依赖关系的版本。如果依赖项不在package-lock.json中，它将由npm install添加。

npm ci(以持续集成命名)直接从package-lock.json安装依赖关系，并且仅使用package.json来验证没有不匹配的版本。如果缺少任何依赖项或版本不兼容，则将引发错误。

速度上ci明显比install快，线上发布打包的时候使用ci是优于install的

